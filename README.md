<div align="center">
  <a href="https://github.com/jsxtools/webpack-aemsync">
    <img width="200" height="200" hspace="20" src="https://webpack.js.org/assets/icon-square-big.svg"/><img width="180" height="180" hspace="20" src="https://github.com/jsxtools/webpack-aemsync/blob/master/test/aem-logo.svg"/>
  </a>
  <h1>Adobe Experience Manager Webpack Plugin</h1>
</div>

[webpack-aemsync] lets you synchronize your [webpack] build directly with [Adobe Experience Manager](AEM).

**webpack-aemsync** uses the same configuration files generated by [aem-clientlib-generator].

## Usage

Add **webpack-aemsync** to your project:

```sh
npm install webpack-aemsync
```

Add **webpack-aemsycn** to your webpack configuration:

```js
// webpack.config.js
const WebpackAemSync = require('webpack-aemsync');
const clientLibConfig = require('/path/to/clientlib.config.js');

module.exports = {
  plugins: [
    new WebpackAemSync(clientLibConfig),
    // ...additional plugins
  ],
  // ...additional configuration
};
```

Add your client library to your configuration file:

```js
module.exports = {
  // default working directory (can be changed per 'cwd' in every asset option)
  context: __dirname,

  // path to the clientlib root folder (output)
  clientLibRoot: "path/to/clientlib-root",

  // define all clientlib options here as array... (multiple clientlibs)
  libs: [
    {
      name: "test.base.apps.mainapp",

      // optional override path to write clientlib files to, by default files
      // are written to lib.name/
      outputPath: "explicit/path/to/lib/or/existing/lib/structure",

      assets: {
        js: [
          "src/frontend/js/app.js"
        ],
        css: [
          "src/frontend/css/styling.css"
        ]
      }
    },
    ...// next clientlibs
  ],

  // or as object (single clientlib)
  libs: {
    name: "test.base.apps.mainapp",
    assets: {
      js: [
        "src/frontend/js/app.js"
      ],
      css: [
        "src/frontend/css/styling.css"
      ]
    }
  }
}
```

## clientlib.config.js

### context

The current working directory.

### cwd

An alias for `context`.

[AEM]: https://www.adobe.com/marketing/experience-manager.html
[aem-clientlib-generator]: https://github.com/wcm-io-frontend/aem-clientlib-generator
[webpack]: https://webpack.js.org
[webpack-aemsync]: https://github.com/jsxtools/webpack-aemsync
